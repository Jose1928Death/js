<html>
    <head>
        <title>Ej 6.2</title>
        <script>

        const posts = [
            {title: 'Post1', body: 'This is post one'},
            {title:'Post2', body:'Thi is post two'}
        ];

        function getPosts() {
            setTimeout(() => {
                let output= '';
                posts.forEach((post,index) => {
                    output += `<li>${post.title}</li>`;
                });

                document.body.innerHTML = output;
            }, 1000);
        }

        function createPost(post){
            return new Promise((resolve,reject) =>{
                setTimeout(()=>{
                    posts.push(post);

                    if(true){
                        resolve();
                    }else{
                        reject('Error: Something went wrong')
                    }
                },2000);
            })    
        }

        createPost({title:'Post3' , body: 'This is post three'})
            .then(getPosts)
            .catch((error) => console.log(error));

        </script>
    </head>
    <body>
    </body>
</html>
